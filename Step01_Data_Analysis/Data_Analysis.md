## Do What?
1. 地震軌道の抽出 
- [デクラスタリングした本震](https://github.com/YamazakiLabSeminar/DEMETER_Satellite_Data_Analysis/blob/ea46adab4ac50275af3d93d4852a756e9e6ecd12/Step00_Declustring/Output/all_eq_declustring_30day_30km.csv)に対して、地震発生前4時間以内に震央から**半径330km以内**にDEMETER衛星が**700km高度上空**を通った軌道の数を調べる(以下、地震軌道と呼ぶ)。

# 0. データの前処理
手元にあるcsvファイル形のDEMETER衛星のデータは、ヘッダが不完全し、奇数行に空白セルが含まれている。
- これらの空白セルは無意味ではない。補完する必要がある。
- 前後の値の平均値を取る。

| year | month | date| hour | minute | sec | milsec | lat | lon | mlat | mlon | | | |
|------|-------|-----|------|--------|-----|--------|-----|-----|------|------|-|-|-|
| 2004 |  7	   |  16   |  0	   |  23 |   43	  | 168	| -55.07258224	| 339.3454895 | -47.93339157 | 41.64117432 | 1.377664447 | 1.061519623 | 1.440446973 |
|      |       |       |       |     |        |     |               |             |              |             | -0.347825766 | -0.585539162 | -0.637984395 |
| 2004 | 7 | 16 | 0 | 23 | 47 | 264 | -54.83273315 | 339.2201843 | -47.68385696 | 41.61027145 | -0.230178699 | -0.624754846 | -0.755631506 |

## 0-1. 新しいヘッダ付き
新しいヘッダ付きをする必要がある．[year, month, **day**, hour, minute, **second**, **milsecond**, lat, lon, mlat, mlon] + [0Hz~20000Hz範囲で19.53125Hz分解能ごとにヘッダを作成する]

| year | month | day | hour | minute | seccond | milseccond | lat | lon | mlat | mlon | 19.53125Hz| 39.06250Hz | 58.59375Hz | | 20000Hz |
|------|-------|-----|------|--------|---------|------------|-----|-----|------|------|-----------|------------|------------|--------|---------|
| 2004 |  7	   |  16   |  0	   |  23 |   43	  | 168	| -55.07258224	| 339.3454895 | -47.93339157 | 41.64117432 | 1.377664447 | 1.061519623 | 1.440446973 | | -1.826134443 |
|      |       |       |       |     |        |     |               |             |              |             | -0.347825766 | -0.585539162 | -0.637984395 | | -1.943781495 |
| 2004 | 7 | 16 | 0 | 23 | 47 | 264 | -54.83273315 | 339.2201843 | -47.68385696 | 41.61027145 | -0.230178699 | -0.624754846 | -0.755631506 | | -1.982997179 |

## 0-2. 空白セルの補完
空白セルを前後のデータから得られた平均値で補完させる。
- [mlon]列までよい。
- 各列における値の桁数は変更しないように。

| year | month | day | hour | minute | seccond | milseccond | lat | lon | mlat | mlon | 19.53125Hz| 39.06250Hz | 58.59375Hz | | 20000Hz |
|------|-------|-----|------|--------|---------|------------|-----|-----|------|------|-----------|------------|------------|--------|---------|
| 2004 |   7   |  16 |   0  |   23   |    43   |     168	| -55.07258224	| 339.3454895 | -47.93339157 | 41.64117432 | 1.377664447 | 1.061519623 | 1.440446973 | | -1.826134443 |
| 2004 |   7   |  16 | 0 | 23 | 45 | 216 | avg | avg | avg | avg | -0.347825766 | -0.585539162 | -0.637984395 | | -1.943781495 |
| 2004 | 7 | 16 | 0 | 23 | 47 | 264 | -54.83273315 | 339.2201843 | -47.68385696 | 41.61027145 | -0.230178699 | -0.624754846 | -0.755631506 | | -1.982997179 |


- フォルダのパスを設定する．
- 処理済ファイル向けのログファイルのパスを設定する．
- ログファイルを読み取る．
    - ログファイルが存在する場合、dataframe型に読み取り、'Processed Files'をset型としてdataframeから読み取る.
    - 存在しない場合、新しく空白の集合を作成、まだ処理済ファイルがないということを示す．
    - set型で、重複した値を排除することできる．listと違い、順番をもってない．実行結果の並び順はその都度変わる．
- ログファイル向けの'new_processed_list' リストを作成する．
- Input Folderのファイル達をリストとして読み取る．
- メイン処理：
    - 1. file_listから'enumerate()'を使用して、index番号およびfile_nameを読み取る．
    - 2. file_nameを利用して、Input dirと結合する．すると、そのファイルを読み取ることができる．
    - 3. ファイルをdataframeとして読み取る．ただし、新しヘッダ付きのため、ヘッダなしで2行目以降で読み取る．
    - 4. DEMETER衛星のdatasheetより、20kHz幅を1024点(分解能19.53125Hz)でスペクトルを算出した．したがって、スペクトルデータ列を1点ごとにヘッダつける．そのため、19.53125から20000まで差が19.53125である等差数列を作成する．
        - ここで、range(start, end)を使用する際に注意する．range()は[0]~[-1]である．例えば、range(1, 2024)で示すと、その結果は1~2023である．したがって、1~1024の範囲に示すには、range(1, 1025)が正しい．
    - 5. 単位[Hz]のヘッダリストを作成する．
    - 6. 時間、位置の新しいいヘッダを作成する．
    - 7. 以上作成した両ヘッダを結合し、3.で読み取ったdfと結合する．

- 空白セルの処理
    - 空白セルのところは、揺れのためである。消すのはダメ。空白セルがある行の上、下行の情報で、時間（ミリ秒は考慮しなくてもいい）、経度、緯度、地磁気経度、地磁気緯度を補完する必要がある。

- Kp indexの追加
